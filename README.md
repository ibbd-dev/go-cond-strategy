# go-services-degrade

Golang服务降级框架，根据相关指标，自动对相关的服务进行开启关闭，或者降级，例如原来按100%写日志，降级为50%的概率写日志。

服务降级之后，当条件不再满足的时候，应该能自动恢复。

## Install 

```sh
go get -u github.com/ibbd-dev/go-services-degrade
```


## 实现思路

指标：

- 事件总次数：一段时间内的事件发生的总次数
- 事件平均耗时指标：一段时间内完成事件耗时的均值

时间段：

- 1分钟
- 5分钟
- 15分钟

前端可以设置相关指标满足什么条件时，触发什么操作。后台就会周期性计算是否满足触发条件，减少判断的耗时。





